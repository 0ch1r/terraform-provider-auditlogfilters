---
page_title: "auditlogfilters_filter Resource - Audit Log Filter"
subcategory: ""
description: |-
  Manages a Percona Server audit log filter using the audit_log_filter component.
  This resource allows you to create, update, and delete audit log filters that define which events should be logged. The filter definition must be a valid JSON object that conforms to the MySQL audit log filter syntax.
---

# auditlogfilters_filter (Resource)

Manages a Percona Server audit log filter using the audit_log_filter component.

This resource allows you to create, update, and delete audit log filters that define which events should be logged. The filter definition must be a valid JSON object that conforms to the MySQL audit log filter syntax.

## Example Usage

### Basic Connection Auditing

```terraform
resource "auditlogfilters_filter" "connection_events" {
  name = "connection_audit"
  definition = jsonencode({
    filter = {
      class = {
        name = "connection"
        event = {
          name = ["connect", "disconnect", "change_user"]
        }
      }
    }
  })
}
```

### User-Specific Auditing

```terraform
resource "auditlogfilters_filter" "admin_audit" {
  name = "admin_activities"
  definition = jsonencode({
    filter = {
      class = [
        {
          name = "connection"
        },
        {
          name = "general"
          user = {
            name = ["admin", "root"]
          }
        }
      ]
    }
  })
}
```

### Table Access Auditing

```terraform
resource "auditlogfilters_filter" "sensitive_data_access" {
  name = "sensitive_table_audit"
  definition = jsonencode({
    filter = {
      class = {
        name = "table_access"
        event = {
          name = ["read", "insert", "update", "delete"]
        }
        database = {
          name = "sensitive_db"
        }
      }
    }
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `definition` (String) JSON definition of the audit log filter. This must be a valid JSON object that defines the filter rules according to MySQL audit log filter syntax. **WARNING**: Changing this value will cause the filter to be recreated, temporarily affecting active sessions using this filter.
- `name` (String) Name of the audit log filter. Must be unique across all filters.

### Read-Only

- `filter_id` (Number) Internal filter ID assigned by MySQL.
- `id` (String) Unique identifier for the audit log filter (same as name).

## Import

Audit log filters can be imported using their name:

```shell
terraform import auditlogfilters_filter.example filter_name
```

## Filter Definition Syntax

The `definition` argument must contain valid JSON that follows the MySQL audit log filter syntax.

### Event Classes

- **connection**: Connection-related events (connect, disconnect, change_user)
- **general**: General server events (status, etc.)
- **table_access**: Table access events (read, insert, update, delete)

## Important Considerations

### Filter Updates

⚠️ **Recreation Required**: MySQL audit log filters cannot be updated in-place. When you modify the `definition`:

1. The existing filter will be removed (along with all user assignments)
2. A new filter will be created with the updated definition
3. All user assignments will be automatically restored

The provider will display warnings about this process and its impact on active sessions.
